query GetNftPoolEvents(
  $collectionAddress: String
  $cursor: String
  $eventTypes: [NftPoolEventType!]
  $exchangeAddress: String
  $limit: Int
  $networkId: Int!
  $poolAddress: String
  $timestamp: EventQueryTimestampInput
) {
  getNftPoolEvents(
    collectionAddress: $collectionAddress
    cursor: $cursor
    eventTypes: $eventTypes
    exchangeAddress: $exchangeAddress
    limit: $limit
    networkId: $networkId
    poolAddress: $poolAddress
    timestamp: $timestamp
  ) {
    cursor
    items {
      blockHash
      blockNumber
      collectionAddress
      collectionId
      data {
        ... on NewPoolEventData {
          assetRecipientAddress
          bondingCurveAddress
          bondingCurveType
          buyPriceT
          collectionAddress
          createdAt
          delta
          feeAmountT
          nbtRatio
          networkId
          nftTokenBalance
          ownerAddress
          poolAddress
          sellPriceT
          startPriceT
          tokenAddress
          tokenBalanceT
          type
          usdRatio
        }
        ... on NewPoolEventDataV2 {
          assetRecipientAddress
          bondingCurveAddress
          bondingCurveType
          buyPriceT
          collectionAddress
          createdAt
          delta
          feeAmountT
          nbtRatio
          networkId
          nftAssets {
            address
            attributes {
              class
              css
              displayType
              maxValue
              name
              value
              valueType
            }
            description
            id
            media {
              image
              processed
              thumbLg
              thumbSm
            }
            name
            networkId
            originalImage
            quantity
            rawAssetData {
              animationUrl
              externalUrl
              imageData
              imageUrl
            }
            tokenId
            uri
          }
          nftTokenIds
          nftTokenQuantities
          ownerAddress
          poolAddress
          poolNftType
          propertyChecker
          royalties {
            percent
            recipient
          }
          sellPriceT
          startPriceT
          tokenAddress
          tokenBalanceT
          type
          usdRatio
        }
        ... on NftPoolAssetRecipientUpdateEventData {
          newAssetRecipient
          type
        }
        ... on NftPoolDeltaUpdateEventData {
          newDelta
          type
        }
        ... on NftPoolFeeUpdateEventData {
          nbtRatio
          newFeeT
          type
          usdRatio
        }
        ... on NftPoolNftDepositEventData {
          nftTokenBalance
          nftTokenIds
          tokenBalanceT
          type
        }
        ... on NftPoolNftDepositEventDataV2 {
          nftAssets {
            address
            attributes {
              class
              css
              displayType
              maxValue
              name
              value
              valueType
            }
            description
            id
            media {
              image
              processed
              thumbLg
              thumbSm
            }
            name
            networkId
            originalImage
            quantity
            rawAssetData {
              animationUrl
              externalUrl
              imageData
              imageUrl
            }
            tokenId
            uri
          }
          nftTokenAmounts
          nftTokenIds
          tokenBalanceT
          type
        }
        ... on NftPoolNftWithdrawalEventData {
          nftTokenBalance
          nftTokenIds
          tokenBalanceT
          type
        }
        ... on NftPoolNftWithdrawalEventDataV2 {
          nftAssets {
            address
            attributes {
              class
              css
              displayType
              maxValue
              name
              value
              valueType
            }
            description
            id
            media {
              image
              processed
              thumbLg
              thumbSm
            }
            name
            networkId
            originalImage
            quantity
            rawAssetData {
              animationUrl
              externalUrl
              imageData
              imageUrl
            }
            tokenId
            uri
          }
          nftTokenAmounts
          nftTokenIds
          tokenBalanceT
          type
        }
        ... on NftPoolOwnershipTransferredEventDataV2 {
          newOwner
          type
        }
        ... on NftPoolSpotPriceUpdateEventData {
          nbtRatio
          newBuyPriceT
          newSellPriceT
          newSpotPriceT
          type
          usdRatio
        }
        ... on NftPoolSpotPriceUpdateEventDataV2 {
          nbtRatio
          newBuyPriceT
          newSellPriceT
          newSpotPriceT
          type
          usdRatio
        }
        ... on NftPoolTokenDepositEventData {
          amountT
          nbtRatio
          nftTokenBalance
          tokenBalanceT
          type
          usdRatio
        }
        ... on NftPoolTokenDepositEventDataV2 {
          amountT
          nbtRatio
          tokenBalanceT
          type
          usdRatio
        }
        ... on NftPoolTokenWithdrawalEventData {
          amountT
          nbtRatio
          nftTokenBalance
          tokenBalanceT
          type
          usdRatio
        }
        ... on NftPoolTokenWithdrawalEventDataV2 {
          amountT
          nbtRatio
          tokenBalanceT
          type
          usdRatio
        }
        ... on SwapNftInPoolEventData {
          amountT
          nbtRatio
          newBuyPriceT
          newDelta
          newSellPriceT
          newSpotPriceT
          nftTokenBalance
          nftsTransfered {
            amountT
            nftTokenId
          }
          poolFeeT
          protocolFeeT
          tokenBalanceT
          tokenId
          type
          usdRatio
        }
        ... on SwapNftInPoolEventDataV2 {
          amountT
          nbtRatio
          newBuyPriceT
          newDelta
          newSellPriceT
          newSpotPriceT
          nftAssets {
            address
            attributes {
              class
              css
              displayType
              maxValue
              name
              value
              valueType
            }
            description
            id
            media {
              image
              processed
              thumbLg
              thumbSm
            }
            name
            networkId
            originalImage
            quantity
            rawAssetData {
              animationUrl
              externalUrl
              imageData
              imageUrl
            }
            tokenId
            uri
          }
          nftsTransfered {
            amountT
            nftQuantity
            nftTokenId
          }
          poolFeeT
          protocolFeeT
          tokenBalanceT
          tokenId
          type
          usdRatio
        }
        ... on SwapNftOutPoolEventData {
          amountT
          nbtRatio
          newBuyPriceT
          newDelta
          newSellPriceT
          newSpotPriceT
          nftTokenBalance
          nftsTransfered {
            amountT
            nftTokenId
          }
          poolFeeT
          protocolFeeT
          tokenBalanceT
          tokenId
          type
          usdRatio
        }
        ... on SwapNftOutPoolEventDataV2 {
          amountT
          nbtRatio
          newBuyPriceT
          newDelta
          newSellPriceT
          newSpotPriceT
          nftAssets {
            address
            attributes {
              class
              css
              displayType
              maxValue
              name
              value
              valueType
            }
            description
            id
            media {
              image
              processed
              thumbLg
              thumbSm
            }
            name
            networkId
            originalImage
            quantity
            rawAssetData {
              animationUrl
              externalUrl
              imageData
              imageUrl
            }
            tokenId
            uri
          }
          nftsTransfered {
            amountT
            nftQuantity
            nftTokenId
          }
          poolFeeT
          protocolFeeT
          tokenBalanceT
          tokenId
          type
          usdRatio
        }
      }
      eventType
      exchangeAddress
      id
      logIndex
      maker
      networkId
      poolAddress
      poolType
      timestamp
      tokenAddress
      transactionHash
      transactionIndex
    }
  }
}
